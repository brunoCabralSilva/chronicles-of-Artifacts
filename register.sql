CREATE SCHEMA IF NOT EXISTS chroniclesOfArtifacts;

USE chroniclesOfArtifacts;

CREATE TABLE IF NOT EXISTS classes(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nameClass VARCHAR(50) NOT NULL,
    functionClass VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS categoryArmors(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    typeArmor VARCHAR(20) NOT NULL,
    categoryArmor VARCHAR(10) NOT NULL
);

CREATE TABLE IF NOT EXISTS properties(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	property VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS weapons(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    weapon VARCHAR(50) NOT NULL,
    categoryWeapon VARCHAR(50) NOT NULL,
    proficiency INT NOT NULL,
    damage VARCHAR(10) NOT NULL,
    rangeWeapon VARCHAR(10) NOT NULL,
    numberOfHands INT NOT NULL
);

CREATE TABLE IF NOT EXISTS armors(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    armor VARCHAR(50) NOT NULL,
    ca INT NOT NULL,
    penalty INT NOT NULL,
    displacement INT NOT NULL,
    category INT NOT NULL,
    FOREIGN KEY (category) REFERENCES categoryArmors(id)
);

CREATE TABLE IF NOT EXISTS weaponClasses(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    weaponId INT NOT NULL,
    classId INT NOT NULL,
    FOREIGN KEY (weaponId) REFERENCES weapons(id),
    FOREIGN KEY (classID) REFERENCES classes(id)
);

CREATE TABLE IF NOT EXISTS armorClasses(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    armorId INT NOT NULL,
    classId INT NOT NULL,
    FOREIGN KEY (armorId) REFERENCES categoryArmors(id),
    FOREIGN KEY (classID) REFERENCES classes(id)
);

CREATE TABLE IF NOT EXISTS weaponProperties(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	propertyId INT NOT NULL,
    weaponId INT NOT NULL,
    FOREIGN KEY (propertyId) REFERENCES properties(id),
    FOREIGN KEY (weaponId) REFERENCES weapons(id)
);

CREATE TABLE IF NOT EXISTS artifactWeapons(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    artifact VARCHAR(50) NOT NULL,
    descWeapon VARCHAR(255) NOT NULL,
    typeWeapon INT NOT NULL,
    skill VARCHAR(255) NOT NULL,
    price FLOAT NOT NULL,
    weightWeapon FLOAT NOT NULL,
    bonusAtk INT NOT NULL,
    bonusDamage INT NOT NULL,
    registerDate DATETIME NOT NULL,
    FOREIGN KEY (typeWeapon) REFERENCES weapons(id)
);

CREATE TABLE IF NOT EXISTS artifactArmors(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    artifact VARCHAR(50) NOT NULL,
    descArmor VARCHAR(255) NOT NULL,
    typeArmor INT NOT NULL,
    skill VARCHAR(255) NOT NULL,
    price FLOAT NOT NULL,
    weightArmor FLOAT NOT NULL,
    bonusDefense INT NOT NULL,
    registerDate DATETIME NOT NULL,
    FOREIGN KEY (typeArmor) REFERENCES armors(id)
);

CREATE TABLE IF NOT EXISTS artifactItems(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    artifact VARCHAR(50) NOT NULL,
    descItem VARCHAR(255) NOT NULL,
    skill VARCHAR(255) NOT NULL,
    price FLOAT NOT NULL,
    weightItem FLOAT NOT NULL,
    bodySection VARCHAR(50) NOT NULL,
    registerDate DATETIME NOT NULL
);

INSERT INTO chroniclesOfArtifacts.classes(nameClass, functionClass)
VALUES
("guerreiro", "defensor"),
("paladino", "defensor"),
("bardo", "líder"),
("clérigo", "líder"),
("senhor da guerra", "líder"),
("mago", "controlador"),
("druida", "controlador"),
("feiticeiro", "agressor"),
("monge", "agressor"),
("bárbaro", "agressor"),
("bruxo", "agressor"),
("ladino", "agressor"),
("patrulheiro", "agressor");

INSERT INTO chroniclesOfArtifacts.categoryArmors(typeArmor, categoryArmor)
VALUES
("traje", "leve"),
("corselete", "leve"),
("gibão", "leve"),
("cota", "pesada"),
("brunea", "pesada"),
("placas", "pesada"),
("escudo", "escudo");

INSERT INTO chroniclesOfArtifacts.properties(property)
VALUES
("nenhuma"),
("mão inábil"),
("leve de arremesso"),
("pesada de arremesso"),
("versátil"),
("decisivo elevado"),
("alcance"),
("recarga livre"),
("recarta mínima"),
("pequena");

INSERT INTO chroniclesOfArtifacts.weapons(weapon, categoryWeapon, proficiency, damage, rangeWeapon, numberOfHands)
VALUES
("adaga" , "corpo a corpo simples", 3,  "1d4", "5/10", 1),
("azagaia" , "corpo a corpo simples", 2,  "1d6", "10/20", 1),
("clava" , "corpo a corpo simples", 2,  "1d6", "1", 1),
("foice" , "corpo a corpo simples", 2,  "1d6", "1", 1),
("lança curta" , "corpo a corpo simples", 2,  "1d8", "1", 1),
("maça" , "corpo a corpo simples", 2,  "1d8", "1", 1),
("bordão" , "corpo a corpo simples", 2,  "1d8", "1", 2),
("clava grande" , "corpo a corpo simples", 2,  "2d4", "1", 2),
("maça estrela" , "corpo a corpo simples", 2,  "1d10", "1", 2),
("segadeira" , "corpo a corpo simples", 2,  "2d4", "1", 2),
("cimitarra" , "corpo a corpo militares", 2,  "1d8", "1", 1),
("espada curta" , "corpo a corpo militares", 3,  "1d6", "1", 1),
("espada longa" , "corpo a corpo militares", 3,  "1d8", "1", 1),
("machadinha" , "corpo a corpo militares", 2,  "1d6", "5/10", 1),
("machado de batalha" , "corpo a corpo militares", 2,  "1d10", "1", 1),
("mangual" , "corpo a corpo militares", 2,  "1d10", "1", 1),
("martelo de arremesso" , "corpo a corpo militares", 2,  "1d6", "5/10", 1),
("martelo de guerra" , "corpo a corpo militares", 2,  "1d10", "1", 1),
("picareta de guerra" , "corpo a corpo militares", 2,  "1d8", "1", 1),
("alabarda" , "corpo a corpo militares", 2,  "1d10", "2", 2),
("alfange" , "corpo a corpo militares", 3,  "2d4", "1", 2),
("espada grande" , "corpo a corpo militares", 3,  "1d10", "1", 2),
("glaive" , "corpo a corpo militares", 2,  "2d4", "2", 2),
("lança longa" , "corpo a corpo militares", 2,  "1d10", "2", 2),
("machado grande" , "corpo a corpo militares", 2,  "1d12", "1", 2),
("malho" , "corpo a corpo militares", 2,  "2d6", "1", 2),
("mangual pesado" , "corpo a corpo militares", 2,  "2d6", "1", 2),
("espada bastarda" , "corpo a corpo superiores", 3,  "1d10", "1", 1),
("katar" , "corpo a corpo superiores", 3,  "1d6", "1", 1),
("rapieira" , "corpo a corpo superiores", 3,  "1d8", "1", 1),
("corrente com cravos" , "corpo a corpo superiores", 3,  "2d4", "2", 1),
("besta de mão" , "à distância simples", 2,  "1d6", "10/20", 1),
("funda" , "à distância simples", 2,  "1d6", "10/20", 1),
("besta" , "à distância simples", 2,  "1d8", "15/30", 2),
("arco curto" , "à distância militares", 2,  "1d8", "15/30", 2),
("arco longo" , "à distância militares", 2,  "1d10", "20/40", 2),
("shuriken" , "à distância superiores", 3,  "1d4", "6/12", 1);

INSERT INTO chroniclesOfArtifacts.armors(armor, ca, penalty, displacement, category)
VALUES
("traje de tecido (roupa básica)" , 0, 0, 0, 1),
("traje feérico" , 1, 0, 0, 1),
("traje celestial" , 2, 0, 0, 1),
("corselete de couro" , 2, 0, 0, 2),
("corselete feérico" , 3, 0, 0, 2),
("corselete celestial" , 4, 0, 0, 2),
("gibão de peles" , 3, -1, 0, 3),
("gibão negro" , 4, -1, 0, 3),
("gibão ancestral" , 5, -1, 0, 3),
("cota de malha" , 6, -1, -1, 4),
("cota forjada" , 9, -1, -1, 4),
("cota espiritual" , 12, -1, -1, 4),
("brunea" , 7, 0, -1, 5),
("brunea dracônica" , 10, 0, -1, 5),
("brunea ancestral" , 13, 0, -1, 5),
("armadura de placas" , 8, -2, -1, 6),
("placas de guerra" , 11, -2, -1, 6),
("placas divinas" , 14, -2, -1, 6),
("escudo leve" , 1, 0, 0, 7),
("escudo pesado", 2, -2, 0, 7);

INSERT INTO chroniclesOfArtifacts.weaponProperties(weaponId, propertyId)
VALUES
(1, 2),
(1, 3),
(2, 4),
(3, 1),
(4, 2),
(5, 5),
(6, 5),
(7, 1),
(8, 1),
(9, 1),
(10, 1),
(11, 6),
(12, 2),
(13, 5),
(14, 2),
(14, 4),
(15, 5),
(16, 5),
(17, 2),
(17, 4),
(18, 5),
(19, 5),
(19, 6),
(20, 7),
(21, 6),
(22, 1),
(23, 7),
(24, 7),
(25, 6),
(26, 1),
(27, 1),
(28, 5),
(29, 2),
(29, 6),
(30, 1),
(31, 7),
(32, 8),
(33, 8),
(34, 9),
(35, 8),
(35, 10),
(36, 8),
(37, 3);

INSERT INTO chroniclesOfArtifacts.weaponClasses(weaponId, classId)
VALUES
(1, 11),
(2, 11),
(3, 11),
(4, 11),
(5, 11),
(6, 11),
(7, 11),
(8, 11),
(9, 11),
(10, 11),
(32, 11),
(33, 11),
(34, 11),
(1, 4),
(2, 4),
(3, 4),
(4, 4),
(5, 4),
(6, 4),
(7, 4),
(8, 4),
(9, 4),
(10, 4),
(32, 4),
(33, 4),
(34, 4),
(1, 1),
(2, 1),
(3, 1),
(4, 1),
(5, 1),
(6, 1),
(7, 1),
(8, 1),
(9, 1),
(10, 1),
(11, 1),
(12, 1),
(13, 1),
(14, 1),
(15, 1),
(16, 1),
(17, 1),
(18, 1),
(19, 1),
(20, 1),
(21, 1),
(22, 1),
(23, 1),
(24, 1),
(25, 1),
(26, 1),
(27, 1),
(32, 1),
(33, 1),
(34, 1),
(35, 1),
(36, 1),
(1, 12),
(2, 12),
(3, 12),
(4, 12),
(5, 12),
(6, 12),
(7, 12),
(8, 12),
(9, 12),
(10, 12),
(32, 12),
(33, 12),
(34, 12),
(1, 6),
(2, 6),
(3, 6),
(4, 6),
(5, 6),
(6, 6),
(7, 6),
(8, 6),
(9, 6),
(10, 6),
(1, 2),
(2, 2),
(3, 2),
(4, 2),
(5, 2),
(6, 2),
(7, 2),
(8, 2),
(9, 2),
(10, 2),
(11, 2),
(12, 2),
(13, 2),
(14, 2),
(15, 2),
(16, 2),
(17, 2),
(18, 2),
(19, 2),
(20, 2),
(21, 2),
(22, 2),
(23, 2),
(24, 2),
(25, 2),
(26, 2),
(27, 2),
(32, 2),
(33, 2),
(34, 2),
(1, 13),
(2, 13),
(3, 13),
(4, 13),
(5, 13),
(6, 13),
(7, 13),
(8, 13),
(9, 13),
(10, 13),
(11, 13),
(12, 13),
(13, 13),
(14, 13),
(15, 13),
(16, 13),
(17, 13),
(18, 13),
(19, 13),
(20, 13),
(21, 13),
(22, 13),
(23, 13),
(24, 13),
(25, 13),
(26, 13),
(27, 13),
(32, 13),
(33, 13),
(34, 13),
(35, 13),
(36, 13),
(1, 5),
(2, 5),
(3, 5),
(4, 5),
(5, 5),
(6, 5),
(7, 5),
(8, 5),
(9, 5),
(10, 5),
(11, 5),
(12, 5),
(13, 5),
(14, 5),
(15, 5),
(16, 5),
(17, 5),
(18, 5),
(19, 5),
(20, 5),
(21, 5),
(22, 5),
(23, 5),
(24, 5),
(25, 5),
(26, 5),
(27, 5),
(32, 5),
(33, 5),
(34, 5);

INSERT INTO chroniclesOfArtifacts.armorClasses(classId, armorId)
VALUES
(11, 1),
(11, 2),
(12, 1),
(12, 2),
(4, 1),
(4, 2),
(4, 3),
(4, 4),
(13, 1),
(13, 2),
(13, 3),
(1, 1),
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(1, 7),
(2, 1),
(2, 2),
(2, 3),
(2, 4),
(2, 5),
(2, 6),
(2, 7),
(5, 1),
(5, 2),
(5, 3),
(5, 4),
(5, 7);

-- SELECT *
-- FROM chroniclesOfArtifacts.armors a
-- INNER JOIN chroniclesOfArtifacts.categoryArmors b
-- ON a.category = b.id
-- WHERE b. categoryArmor = 'pesada';